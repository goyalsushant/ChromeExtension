<html>
<title>
</title>
<head>
</head>

<body>
<p>
Holi is a most entertaining festival of India. It is also known as festival of colors as we play with colors at this festival. 
It is a Hindu festival celebrated with lots of joy by the Hindu people all over India as well as abroad where Hindu population
  is found. It falls in the spring season (in Chaitra month) after the winter season. It is one of the happiest religious 
festivals of the Hindus. It is also celebrated by some non-Hindus to enjoy this festival as a spring festival of love and 
colors. In this season nature shows its real beauty and everywhere looks very dazzling with pleasant environment.
</p>
<p id="workingGround"></p>

<script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    
<script>

$(document).click(function(e){
         s = window.getSelection();
    var range = s.getRangeAt(0);
    var node = s.anchorNode;
    while (range.toString().indexOf(' ') != 0) {
        range.setStart(node, (range.startOffset - 1));
    }
    range.setStart(node, range.startOffset + 1);
    do {
        range.setEnd(node, range.endOffset + 1);

    } while (range.toString().indexOf(' ') == -1 && range.toString().trim() != '' && range.endOffset < node.length);
    var str = range.toString().trim();
		var abc = str.replace(/[^a-zA-Z ]/g, "");
        var src = "https://www.dictionaryapi.com/api/v1/references/thesaurus/xml/"+abc+"?key=91859f8f-807f-47e1-b41d-593375234bd2"; // NOTE: replace test_only with your own KEY 
		jQuery.get( src, function( response ) { 
		var obj = xmlToJson(response);
		console.log(obj);
		process(obj);
		
} );

			
       });
	   function process(result) 
	   { 
			outputsyn = "<b>Synonyms : </b>"; 
			outputant = "<b>Antonyms : </b>"; 
			outputmea = "<b>Meaning : </b>"; 
			for(var entry in result.entry_list)
			{
				for(var key1 in result.entry_list[entry])
				{
					if(typeof result.entry_list[entry][key1]=== "object")
					{
						if(result.entry_list[entry][key1].hasOwnProperty('syn'))
						{	
							if(typeof result.entry_list[entry][key1]['syn']==="object")
							{
								if(typeof result.entry_list[entry][key1]['syn'].hasOwnProperty('#text'))
								{
									outputsyn +=result.entry_list[entry][key1]['syn']['#text']+"&nbsp;&nbsp;";
								}
							}
							else
							{
								outputsyn +=result.entry_list[entry][key1].syn+"&nbsp;&nbsp;";
							}
						}
						if(result.entry_list[entry][key1].hasOwnProperty('mc'))
						{
							if(typeof result.entry_list[entry][key1]['mc']==="object")
							{
								if(typeof result.entry_list[entry][key1]['mc'].hasOwnProperty('#text'))
								{
									outputmea +=result.entry_list[entry][key1]['mc']['#text']+"&nbsp;&nbsp;";
								}
							}
							else
							{
								outputmea +=result.entry_list[entry][key1].mc+"&nbsp;&nbsp;   ||<br>";
							}
						}
						if(result.entry_list[entry][key1].hasOwnProperty('ant'))
						{
							if(typeof result.entry_list[entry][key1]['ant']==="object")
							{
								if(typeof result.entry_list[entry][key1]['ant'].hasOwnProperty('#text'))
								{
									outputant +=result.entry_list[entry][key1]['ant']['#text']+"&nbsp;&nbsp;";
								}
							}
							else
							{
								outputant +=result.entry_list[entry][key1].ant+"&nbsp;&nbsp;";
							}
						}
					}
					for(var sens in result.entry_list[entry][key1])
					{
						if(typeof result.entry_list[entry][key1][sens]=== "object")
						{
							if(result.entry_list[entry][key1][sens].hasOwnProperty('syn'))
							{
								if(typeof result.entry_list[entry][key1][sens]['syn']==="object")
								{
									if(result.entry_list[entry][key1][sens]['syn'].hasOwnProperty('#text'))
									{
										outputsyn +=result.entry_list[entry][key1][sens]['syn']['#text']+"&nbsp;&nbsp;";
									}
								}
								else
								{
									outputsyn +=result.entry_list[entry][key1][sens].syn+"&nbsp;&nbsp;";
								}
							}
							if(result.entry_list[entry][key1][sens].hasOwnProperty('mc'))
							{
								if(typeof result.entry_list[entry][key1][sens]['mc']==="object")
								{
									if(result.entry_list[entry][key1][sens]['mc'].hasOwnProperty('#text'))
									{
										outputmea +=result.entry_list[entry][key1][sens]['mc']['#text']+"&nbsp;&nbsp;";
									}
								}
								else
								{
									outputmea +=result.entry_list[entry][key1][sens].mc+"&nbsp;&nbsp;   ||<br>";
								}
							}
							if(result.entry_list[entry][key1][sens].hasOwnProperty('ant'))
							{
								if(typeof result.entry_list[entry][key1][sens]['ant']==="object")
								{
									if(result.entry_list[entry][key1][sens]['ant'].hasOwnProperty('#text'))
									{
										outputant +=result.entry_list[entry][key1][sens]['ant']['#text']+"&nbsp;&nbsp;";
									}
								}
								else
								{
									outputant +=result.entry_list[entry][key1][sens].ant+"&nbsp;&nbsp;";
								}
							}
						}
						for(var key2 in result.entry_list[entry][key1][sens])
						{
							if(typeof result.entry_list[entry][key1][sens][key2]=== "object")
							{
								if(result.entry_list[entry][key1][sens][key2].hasOwnProperty('syn'))
								{
									if(typeof result.entry_list[entry][key1][sens][key2]['syn']==="object")
									{
										if(typeof result.entry_list[entry][key1][sens][key2]['syn'].hasOwnProperty('#text'))
										{
											outputsyn +=result.entry_list[entry][key1][sens][key2]['syn']['#text']+"&nbsp;&nbsp;";
										}
									}
									else
									{
										outputsyn +=result.entry_list[entry][key1][sens][key2].syn+"&nbsp;&nbsp;";
									}
								}
								if(result.entry_list[entry][key1][sens][key2].hasOwnProperty('mc'))
								{
									if(typeof result.entry_list[entry][key1][sens][key2]['mc']==="object")
									{
										if(typeof result.entry_list[entry][key1][sens][key2]['mc'].hasOwnProperty('#text'))
										{
											outputmea +=result.entry_list[entry][key1][sens][key2]['mc']['#text']+"&nbsp;&nbsp;";
										}
									}
									else
									{
										outputmea +=result.entry_list[entry][key1][sens][key2].mc+"&nbsp;&nbsp;   ||<br>";
									}
								}
								if(result.entry_list[entry][key1][sens][key2].hasOwnProperty('ant')&&typeof result.entry_list[entry][key1][sens][key2]['ant']!=="object")
								{
									if(typeof result.entry_list[entry][key1][sens][key2]['ant']==="object")
									{
										if(typeof result.entry_list[entry][key1][sens][key2]['ant'].hasOwnProperty('#text'))
										{
											outputant +=result.entry_list[entry][key1][sens][key2]['ant']['#text']+"&nbsp;&nbsp;";
										}
									}
									else
									{
										outputant +=result.entry_list[entry][key1][sens][key2].ant+"&nbsp;&nbsp;";
									}
								}
							}
						}
					}
				}
			} 
			document.getElementById("workingGround").innerHTML = outputsyn+"<br>" +outputmea +"<br>" +outputant; 
		}
		function xmlToJson(xml) {

		// Create the return object
		var obj = {};

		if (xml.nodeType == 1) { // element
			// do attributes
			if (xml.attributes.length > 0) {
			obj["@attributes"] = {};
				for (var j = 0; j < xml.attributes.length; j++) {
					var attribute = xml.attributes.item(j);
					obj["@attributes"][attribute.nodeName] = attribute.nodeValue;
				}
			}
		} else if (xml.nodeType == 3) { // text
			obj = xml.nodeValue;
		}

		// do children
		// If just one text node inside
		if (xml.hasChildNodes() && xml.childNodes.length === 1 && xml.childNodes[0].nodeType === 3) {
			obj = xml.childNodes[0].nodeValue;
		}
		else if (xml.hasChildNodes()) {
			for(var i = 0; i < xml.childNodes.length; i++) {
				var item = xml.childNodes.item(i);
				var nodeName = item.nodeName;
				if (typeof(obj[nodeName]) == "undefined") {
					obj[nodeName] = xmlToJson(item);
				} else {
					if (typeof(obj[nodeName].push) == "undefined") {
						var old = obj[nodeName];
						obj[nodeName] = [];
						obj[nodeName].push(old);
					}
					obj[nodeName].push(xmlToJson(item));
				}
			}
		}
		return obj;
	}
</script>
<<<<<<< HEAD
</body>
=======
    </body>
>>>>>>> 7c58d1d950840e274aeb398b36866fbf1015c353
</html>